


  <div >
       <%= form_tag(users_path, method: 'get', :remote=> true) do %>
       Name <%= text_field_tag :search, params[:search] %>
       <%= submit_tag 'Search' %>
       <% end %>
  </div>

<div>
   <table class="index_table">
   <thead id="head">
      <tr>
         <th><%= sortable "id", "ID" %></th>
         <th><%= sortable "name", "Name" %></th>
         <th><%= sortable "is_deleted", "Delete Status" %></th>
         <th>Actions</th>
      </tr>
   </thead>
   <tbody id="ajax">
     <% #if @page >= 0 and @page <= @users.count %>
<% @users.each do |user|%>
      <tr>
         <td><%= user.id %></td>
         <td><%= user.name %></td>
         <th><%= user.is_deleted %></td>

    <div><td class='Action'>
               <%=link_to 'Show',user_path(user) %>
               <%=link_to 'Edit',edit_user_path(user) %>
               <%=link_to "Delete",user_path(user),method: :delete,data: {confirm: "Are you sure you want to delete this user?"}%>
               <% if (user.is_deleted) %> 
               <%= link_to 'Revert',user_is_delete_path(user), remote: true %>
               <% else %>
               <%= link_to 'is_delete',user_is_delete_path(user), remote: true %>
               <%end%>
            </td></div>
      </tr> 
<%# end %>
      
<% end %>
   </tbody>
   </table><br>

<div>
  <% if @page == 0 %>
    <%= link_to "<<Previous", users_path(page: 0), remote: true%>|
  <% else %>
    <%= link_to "<<Previous", users_path(page: @page - 1), method: 'get',remote: true %>|
  <% end %>
  <%= link_to "1", users_path(page: 0), method: 'get', remote: true %>|
  <%= link_to "2", users_path(page: 1), method: 'get', remote: true %>|
  <%= link_to "3", users_path(page: 2), method: 'get', remote: true %>|
  <%= "..." %>
  <% if @page >= (@records/5).ceil-1 %>
    <%= link_to "Next>>", users_path(page: (@records/5).ceil), remote: true %>
  <% else %>
    <%= link_to "Next>>", users_path(page: @page + 1), remote: true %>
  <% end %>
</div><br><br>

  <div><%= link_to 'Add New user',new_user_path %></div></br><br><br><br>

  <div>
      <% if flash[:notice] %>
           <div><%= flash[:notice] %></div>
      <% end %> 
  </div>